<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" />
  <script defer src="https://cloud.umami.is/script.js" data-website-id="873b2a6e-8d24-4ef6-ac32-7a22c1691f69"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PMJMSDJVFT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-PMJMSDJVFT');
  </script>
  <style>
    :root {
      --primary-blue: #234271;
      --secondary-blue: #4285f4;
      --dark-bg: #131313;
      --white: #ffffff;
      --light-gray: #ddd;
      --shadow: 0 4px 12px rgba(0,0,0,0.2);
      --hover-shadow: 0 6px 16px rgba(0,0,0,0.3);
      --border-radius: 12px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(252.82deg, var(--primary-blue) 11.79%, var(--dark-bg) 49.38%);
      min-height: 100vh;
      color: var(--white);
      overflow-x: hidden;
    }

    /* Navigation Bar */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(35, 66, 113, 0.95);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--shadow);
    }

    .nav-left {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .nav-right {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .nav-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
    }

    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.4);
      transform: translateY(-2px);
      box-shadow: var(--hover-shadow);
    }

    .nav-btn img {
      width: 24px;
      height: 24px;
      object-fit: contain;
    }

    .music-btn {
      background: linear-gradient(90deg, rgb(84, 84, 84), rgb(84, 84, 84));
    }

    .music-btn:hover {
      opacity: 0.8;
    }

    /* Login/Signup Button */
    .auth-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 25px;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    .auth-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    }

    .auth-btn i {
      font-size: 1.1rem;
    }

    /* User Profile Button (shown when logged in) */
    .user-profile-btn {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid rgba(255, 255, 255, 0.3);
      padding: 8px 20px;
      border-radius: 25px;
      color: white;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: var(--transition);
    }

    .user-profile-btn:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: translateY(-2px);
    }

    .user-profile-btn i {
      font-size: 1.2rem;
    }

    /* Read Aloud Button */
    .read-aloud-btn {
      background: linear-gradient(90deg, #ff6b6b, #ff5252);
      font-size: 20px;
      color: white;
    }

    .read-aloud-btn.speaking {
      background: linear-gradient(90deg, #4CAF50, #45a049);
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Main Content */
    .main-content {
      padding-top: 80px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header Section */
    .header-section {
      text-align: center;
      padding: 40px 0 60px;
    }

    .main-title {
      font-size: clamp(2.5rem, 8vw, 4rem);
      font-weight: 800;
      margin-bottom: 20px;
      text-shadow: 0 4px 4px rgba(255, 255, 255, 0.25);
      background: linear-gradient(45deg, #fff, #e0e0e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .user-greeting {
      font-size: clamp(2rem, 6vw, 3rem);
      font-weight: 700;
      margin-bottom: 15px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 0.8s ease-out;
    }

    .user-greeting .wave {
      display: inline-block;
      animation: wave 2s ease-in-out infinite;
    }

    @keyframes wave {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(20deg); }
      75% { transform: rotate(-20deg); }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .user-name {
      color: white;
      font-weight: 800;
    }

    .journey-text {
      font-size: clamp(1.2rem, 4vw, 1.5rem);
      font-weight: 600;
      color: white;
      margin-top: 0.3rem;
    }

    /* Level Cards */
    .levels-container {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-bottom: 60px;
    }

    .level-card {
      display: flex;
      align-items: center;
      gap: 40px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: var(--border-radius);
      padding: 30px;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .level-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--hover-shadow);
      background: rgba(255, 255, 255, 0.08);
    }

    .level-card.reverse {
      flex-direction: row-reverse;
    }

    .level-visual {
      flex: 0 0 300px;
      position: relative;
    }

    .level-gif {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
    }

    .level-content {
      flex: 1;
      min-width: 0;
    }

    .level-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .level-number {
      font-size: 2rem;
      font-weight: 700;
      color: var(--light-gray);
      background: rgba(255, 255, 255, 0.1);
      padding: 10px 20px;
      border-radius: 25px;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .play-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(45deg, #4CAF50, #45a049);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      box-shadow: var(--shadow);
      text-decoration: none;
    }

    .play-btn:hover {
      transform: scale(1.1);
      box-shadow: var(--hover-shadow);
    }

    .play-btn img {
      width: 30px;
      height: 30px;
    }

    .level-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--white);
    }

    .level-description {
      font-size: 1.1rem;
      line-height: 1.6;
      color: var(--light-gray);
      font-weight: 400;
    }

    /* Certificate Section */
    .certificate-section {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: var(--border-radius);
      padding: 40px;
      margin: 60px 0;
      text-align: center;
      box-shadow: var(--shadow);
    }

    .certificate-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      display: block;
    }

    .certificate-title {
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      font-weight: 800;
      margin-bottom: 15px;
      text-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
    }

    .certificate-subtitle {
      font-size: clamp(1rem, 3vw, 1.1rem);
      font-weight: 500;
      color: var(--light-gray);
      margin-bottom: 30px;
      line-height: 1.5;
    }

    .certificate-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .certificate-feature {
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .certificate-feature:hover {
      transform: translateY(-3px);
      background: rgba(255, 255, 255, 0.08);
    }

    .certificate-feature-icon {
      font-size: 2rem;
      margin-bottom: 15px;
      display: block;
    }

    .certificate-feature h4 {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--white);
    }

    .certificate-feature p {
      font-size: 0.95rem;
      color: var(--light-gray);
      line-height: 1.4;
    }

    .certificate-btn {
      background: var(--primary-blue);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 30px;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: var(--transition);
      text-decoration: none;
      display: inline-block;
      margin-top: 20px;
    }

    .certificate-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--hover-shadow);
      background: #1a2f5a;
    }

    /* Coming Soon Section */
    .coming-soon {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: var(--border-radius);
      padding: 40px;
      margin: 40px 0;
      text-align: center;
      box-shadow: var(--shadow);
    }

    .coming-soon h2 {
      font-size: clamp(1.5rem, 5vw, 2.5rem);
      font-weight: 800;
      margin-bottom: 30px;
    }

    .upcoming-levels {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .upcoming-level {
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .upcoming-level:hover {
      transform: translateY(-3px);
      background: rgba(255, 255, 255, 0.08);
    }

    .upcoming-level h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .upcoming-level p {
      color: var(--light-gray);
      line-height: 1.4;
    }

    /* Footer */
    .footer {
      background: #000;
      padding: 40px 20px 20px;
      text-align: center;
      margin-top: 60px;
    }

    .footer .social-links {
      margin-bottom: 20px;
    }

    .footer .social-links a {
      display: inline-block;
      margin: 0 15px;
      color: gray;
      font-size: 2rem;
      transition: var(--transition);
    }

    .footer .social-links a:hover {
      color: var(--white);
      transform: translateY(-2px);
    }

    .footer .footer-nav {
      margin-bottom: 20px;
    }

    .footer .footer-nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 30px;
    }

    .footer .footer-nav a {
      color: gray;
      text-decoration: none;
      transition: var(--transition);
    }

    .footer .footer-nav a:hover {
      color: var(--white);
    }

    .footer .copyright {
      color: gray;
      font-size: 0.9rem;
    }

    /* Scroll to top button */
    .scroll-top {
      position: fixed;
      right: 20px;
      bottom: 20px;
      width: 50px;
      height: 50px;
      background: var(--primary-blue);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: var(--transition);
      opacity: 0;
      visibility: hidden;
      z-index: 999;
    }

    .scroll-top.show-btn {
      opacity: 1;
      visibility: visible;
    }

    .scroll-top:hover {
      transform: translateY(-2px);
      box-shadow: var(--hover-shadow);
    }

    .scroll-top img {
      width: 24px;
      height: 24px;
      filter: invert(1);
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .top-nav {
        padding: 10px 15px;
      }

      .nav-left,
      .nav-right {
        gap: 10px;
      }

      .nav-btn {
        width: 40px;
        height: 40px;
      }

      .nav-btn img {
        width: 20px;
        height: 20px;
      }

      .auth-btn {
        padding: 8px 16px;
        font-size: 0.85rem;
      }

      .main-content {
        padding-top: 70px;
      }

      .container {
        padding: 0 15px;
      }

      .header-section {
        padding: 20px 0 40px;
      }

      .levels-container {
        gap: 30px;
      }

      .level-card {
        flex-direction: column !important;
        gap: 20px;
        padding: 20px;
      }

      .level-visual {
        flex: none;
        width: 100%;
        max-width: 300px;
      }

      .level-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }

      .level-number {
        font-size: 1.5rem;
        padding: 8px 16px;
      }

      .level-title {
        font-size: 1.5rem;
        text-align: center;
      }

      .level-description {
        font-size: 1rem;
        text-align: center;
      }

      .certificate-section,
      .coming-soon {
        padding: 20px;
      }

      .certificate-features,
      .upcoming-levels {
        grid-template-columns: 1fr;
      }

      .footer .footer-nav ul {
        flex-direction: column;
        gap: 15px;
      }

      .scroll-top {
        right: 15px;
        bottom: 15px;
        width: 45px;
        height: 45px;
      }
    }

    @media (max-width: 480px) {
      .top-nav {
        padding: 8px 10px;
      }

      .nav-btn {
        width: 35px;
        height: 35px;
      }

      .nav-btn img {
        width: 18px;
        height: 18px;
      }

      .auth-btn {
        padding: 6px 12px;
        font-size: 0.8rem;
      }

      .level-card {
        padding: 15px;
      }

      .level-gif {
        height: 150px;
      }

      .play-btn {
        width: 50px;
        height: 50px;
      }

      .play-btn img {
        width: 25px;
        height: 25px;
      }
    }

    /* Hidden class for toggling elements */
    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <audio id="background-music" loop>
    <source src="./audio/back.mp3" type="audio/mpeg">
  </audio>

  <!-- Top Navigation -->
  <nav class="top-nav">
    <div class="nav-left">
    <h2> üß∏ CyberBear </h2>
      <a href="index.html" class="nav-btn" title="Home">
        <img src="public/home.png" alt="Learn">
      </a>
      <a href="cyberfit.html" class="nav-btn" title="Learn More">
        <img src="public/kids.png" alt="Learn">
      </a>
      <a href="main/level_2/game/wackthehacker.html" class="nav-btn" title="Game">
        <img src="public/reward.png" alt="Game">
      </a>
      <a href="vids/vid.html" class="nav-btn" title="Video Guides">
        <img src="public/video.png" alt="Videos">
      </a>
    </div>
    <div class="nav-right">
      <!-- Login/Signup Button (shown when not logged in) -->
      <a href="login.html" class="auth-btn" id="authBtn">
        <i class="fa fa-user"></i>
        <span>Login / Sign Up</span>
      </a>
      
      <!-- User Profile Button (shown when logged in) -->
      <button class="user-profile-btn hidden" id="userProfileBtn">
        <i class="fa fa-user-circle"></i>
        <span id="userProfileName">User</span>
      </button>

        <a href="about_us.html" class="auth-btn" id="authBtn">
        <i class="fa fa-user"></i>
        <span>About Us</span>
      </a>
      
      <button class="nav-btn read-aloud-btn" id="read-aloud-btn" title="Read Aloud">
        <i class="fa fa-volume-up"></i>
      </button>
      <button class="nav-btn music-btn" id="music-btn" title="Toggle Music">
        <img src="public/music.png" alt="Music">
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <!-- Header Section -->
      <section class="header-section">
        <h3 class="user-greeting">
         Welcome, <span class="user-name" id="userName">Champion</span>!
        </h3>
        <p class="journey-text">Ready to level up your cyber skills?</p>
      </section>

      <!-- Levels Container -->
      <div class="levels-container">
        <!-- Level 1 -->
        <article class="level-card">
          <div class="level-visual">
            <img class="level-gif" src="./public/giphy-1-1@2x.gif" alt="Level 1 Animation">
          </div>
          <div class="level-content">
            <div class="level-header">
              <span class="level-number">LEVEL 1</span>
              <a href="index_levels/index-level1.html" class="play-btn" title="Play Level 1">
                <img src="./public/animation--1716828621477-1@2x.gif" alt="Play">
              </a>
            </div>
            <h2 class="level-title">Phishing Attack ‚≠ê</h2>
            <p class="level-description">
              Learn how to spot sneaky emails and keep your personal info safe from scammers. Are you ready for the cyber challenge?
            </p>
          </div>
        </article>

        <!-- Level 2 -->
        <article class="level-card reverse">
          <div class="level-visual">
            <img class="level-gif" src="./public/giphy-2-1@2x.gif" alt="Level 2 Animation">
          </div>
          <div class="level-content">
            <div class="level-header">
              <span class="level-number">LEVEL 2</span>
              <a href="index_levels/index-level2.html" class="play-btn" title="Play Level 2">
                <img src="./public/animation--1716828621477-1@2x.gif" alt="Play">
              </a>
            </div>
            <h2 class="level-title">Malware Mayhem ‚≠ê‚≠ê</h2>
            <p class="level-description">
              Your mission: Find and defeat the sneaky malware trying to mess up your computer... Let's go!
            </p>
          </div>
        </article>

        <!-- Level 3 -->
        <article class="level-card">
          <div class="level-visual">
            <img class="level-gif" src="./public/giphy-3-1@2x.gif" alt="Level 3 Animation">
          </div>
          <div class="level-content">
            <div class="level-header">
              <span class="level-number">LEVEL 3</span>
              <a href="index_levels/index-level3.html" class="play-btn" title="Play Level 3">
                <img src="./public/animation--1716828621477-1@2x.gif" alt="Play">
              </a>
            </div>
            <h2 class="level-title">Weak Password Worries ‚≠ê‚≠ê‚≠ê</h2>
            <p class="level-description">
              Create strong passwords and use two-step security to keep hackers and force attacks out. You've got this!
            </p>
          </div>
        </article>

        <!-- Level 4 -->
        <article class="level-card reverse">
          <div class="level-visual">
            <img class="level-gif" src="./public/giphy-4-1@2x.gif" alt="Level 4 Animation">
          </div>
          <div class="level-content">
            <div class="level-header">
              <span class="level-number">LEVEL 4</span>
              <a href="index_levels/index-level4.html" class="play-btn" title="Play Level 4">
                <img src="./public/animation--1716828621477-1@2x.gif" alt="Play">
              </a>
            </div>
            <h2 class="level-title">The Viral Challenge Trap ‚≠ê‚≠ê‚≠ê‚≠ê</h2>
            <p class="level-description">
              Learn what to post, how to protect your privacy, and why not responding to risky comments or messages keeps you safe. Think before you share, stay kind, and scroll smart!
            </p>
          </div>
        </article>

        <!-- Level 5 -->
        <article class="level-card">
          <div class="level-visual">
            <img class="level-gif" src="./public/giphy-1-1@2x.gif" alt="Level 5 Animation">
          </div>
          <div class="level-content">
            <div class="level-header">
              <span class="level-number">LEVEL 5</span>
              <a href="index_levels/index-level5.html" class="play-btn" title="Play Level 5">
                <img src="./public/animation--1716828621477-1@2x.gif" alt="Play">
              </a>
            </div>
            <h2 class="level-title">Truth or Trap? ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</h2>
            <p class="level-description">
              Sharpen your critical thinking skills and learn how to spot misleading information online. Don't fall for the trap‚Äîinvestigate before you believe!
            </p>
          </div>
        </article>
      </div>

      <!-- Certificate Section -->
      <section class="certificate-section">
        <span class="certificate-icon">üèÜ</span>
        <h2 class="certificate-title">Get Your Child's Intro to Cybersecurity Certificate Today!</h2>
        <p class="certificate-subtitle">
          Complete all 5 levels and earn an official certificate signed by our 501(c)(3) nonprofit and founder. 
          This certificate shows that your child understands key online safety skills like avoiding scams and spotting harmful content. It's great for future tech clubs and school!
        </p>
        
        <div class="certificate-features">
          <div class="certificate-feature">
            <span class="certificate-feature-icon">üìú</span>
            <h4>Official Certificate</h4>
            <p>Signed by our 501(c)(3) nonprofit organization and founder</p>
          </div>
          <div class="certificate-feature">
            <span class="certificate-feature-icon">üéì</span>
            <h4>Educational Achievement</h4>
            <p>Recognized completion of introduction to cybersecurity training</p>
          </div>
          <div class="certificate-feature">
            <span class="certificate-feature-icon">üåü</span>
            <h4>Personal Recognition</h4>
            <p>Customized with your child's name and completion date</p>
          </div>
        </div>
        
        <a href="https://forms.gle/JshMGsybfbHrGmCF6" target="_blank" class="certificate-btn">
          Claim Your Certificate Now
        </a>
      </section>

      <!-- Coming Soon Section -->
      <section class="coming-soon">
        <h2>More Levels Coming Soon!</h2>
        <div class="upcoming-levels">
          <div class="upcoming-level">
            <h3>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</h3>
            <h3>Respect Your Private Info</h3>
            <p>Learn to guard your data like your best-kept dance move ‚Äî not everyone should see it.</p>
          </div>
          <div class="upcoming-level">
            <h3>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</h3>
            <h3>Free WiFi Trap</h3>
            <p>Learn to spot the risks of free Wi-Fi ‚Äî not every connection is safe.</p>
          </div>
        </div>
        <a href="https://instagram.com/cyberbear.ai" target="_blank" class="certificate-btn">
          Get Notified When Available
        </a>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="social-links">
      <a href="https://www.instagram.com/cyberbear.ai" target="_blank"><i class="fa fa-instagram"></i></a>
      <a href="https://www.linkedin.com/company/cyberbear-ai/" target="_blank"><i class="fa fa-linkedin"></i></a>
    </div>
    <div class="footer-nav">
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="about_us.html">About Us</a></li>
      </ul>
    </div>
    <div class="copyright">
      CyberBear ¬© 2025 | All Rights Reserved
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <button class="scroll-top" onclick="scrollToTop()">
    <img src="public/arrow.png" alt="Scroll to top">
  </button>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { getFirestore, doc, getDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyCjKr-wrV-P79OWaUJV5J2RMvMaJejxSRE",
      authDomain: "cyberbear-app.firebaseapp.com",
      projectId: "cyberbear-app",
      storageBucket: "cyberbear-app.firebasestorage.app",
      messagingSenderId: "422663014489",
      appId: "1:422663014489:web:a744166b116cbfc3258948",
      measurementId: "G-2HNVK9K0L4"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const authBtn = document.getElementById('authBtn');
    const userProfileBtn = document.getElementById('userProfileBtn');
    const userProfileName = document.getElementById('userProfileName');

    // Load user name from Firebase and toggle auth UI
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        try {
          console.log('User logged in:', user.uid);
          const userDoc = await getDoc(doc(db, 'users', user.uid));
          
          if (userDoc.exists()) {
            const userData = userDoc.data();
            console.log('User data:', userData);
            
            // Try multiple possible name fields
            const userName = userData.name || userData.displayName || user.displayName || 'Champion';
            console.log('Displaying name:', userName);
            
            document.getElementById('userName').textContent = userName;
            
            // Update profile button
            const firstName = userName.split(' ')[0];
            userProfileName.textContent = firstName;
          } else {
            console.log('User document does not exist');
            const userName = user.displayName || 'Champion';
            document.getElementById('userName').textContent = userName;
            userProfileName.textContent = userName.split(' ')[0];
          }
          
          // Show user profile button, hide login button
          authBtn.classList.add('hidden');
          userProfileBtn.classList.remove('hidden');
          
        } catch (error) {
          console.error('Error fetching user data:', error);
          const userName = user.displayName || 'Champion';
          document.getElementById('userName').textContent = userName;
          userProfileName.textContent = userName.split(' ')[0];
          
          // Show user profile button, hide login button
          authBtn.classList.add('hidden');
          userProfileBtn.classList.remove('hidden');
        }
      } else {
        console.log('No user logged in');
        // Show login button, hide user profile button
        authBtn.classList.remove('hidden');
        userProfileBtn.classList.add('hidden');
      }
    });

    // Add logout functionality to profile button
    userProfileBtn.addEventListener('click', async () => {
      const confirmLogout = confirm('Do you want to log out?');
      if (confirmLogout) {
        try {
          await signOut(auth);
          window.location.reload();
        } catch (error) {
          console.error('Error signing out:', error);
          alert('Error logging out. Please try again.');
        }
      }
    });
  </script>

  <script>
    // Text-to-Speech functionality
    let isSpeaking = false;
    let speechSynthesis = window.speechSynthesis;
    let currentUtterance = null;
    const readAloudBtn = document.getElementById('read-aloud-btn');

    function getPageContent() {
      const content = [];
      
      // Get main title
      const mainTitle = document.querySelector('.main-title');
      if (mainTitle) content.push(mainTitle.textContent);
      
      // Get greeting
      const greeting = document.querySelector('.user-greeting');
      if (greeting) content.push(greeting.textContent);
      
      // Get journey text
      const journeyText = document.querySelector('.journey-text');
      if (journeyText) content.push(journeyText.textContent);
      
      // Get all level cards
      const levelCards = document.querySelectorAll('.level-card');
      levelCards.forEach(card => {
        const levelNumber = card.querySelector('.level-number');
        const levelTitle = card.querySelector('.level-title');
        const levelDesc = card.querySelector('.level-description');
        
        if (levelNumber) content.push(levelNumber.textContent);
        if (levelTitle) content.push(levelTitle.textContent);
        if (levelDesc) content.push(levelDesc.textContent);
      });
      
      // Get certificate section
      const certTitle = document.querySelector('.certificate-title');
      const certSubtitle = document.querySelector('.certificate-subtitle');
      if (certTitle) content.push(certTitle.textContent);
      if (certSubtitle) content.push(certSubtitle.textContent);
      
      return content.join('. ');
    }

    function toggleReadAloud() {
      if (isSpeaking) {
        speechSynthesis.cancel();
        isSpeaking = false;
        readAloudBtn.classList.remove('speaking');
        readAloudBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
      } else {
        const text = getPageContent();
        currentUtterance = new SpeechSynthesisUtterance(text);
        
        // Configure speech settings
        currentUtterance.rate = 0.9;
        currentUtterance.pitch = 1;
        currentUtterance.volume = 1;
        
        // Event handlers
        currentUtterance.onstart = function() {
          isSpeaking = true;
          readAloudBtn.classList.add('speaking');
          readAloudBtn.innerHTML = '<i class="fa fa-stop"></i>';
        };
        
        currentUtterance.onend = function() {
          isSpeaking = false;
          readAloudBtn.classList.remove('speaking');
          readAloudBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
        };
        
        currentUtterance.onerror = function() {
          isSpeaking = false;
          readAloudBtn.classList.remove('speaking');
          readAloudBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
        };
        
        speechSynthesis.speak(currentUtterance);
      }
    }

    readAloudBtn.addEventListener('click', toggleReadAloud);

    // Music player functionality
    let isPlaying = false;
    let isOriginalColor = true;
    const audio = document.getElementById('background-music');
    const musicBtn = document.getElementById('music-btn');

    function toggleMusic() {
      if (isPlaying) {
        audio.pause();
        isPlaying = false;
      } else {
        audio.play().catch(error => {
          console.log('Error playing audio:', error);
        });
        isPlaying = true;
      }
      changeBackgroundColor();
    }

    function changeBackgroundColor() {
      if (isOriginalColor) {
        musicBtn.style.background = 'linear-gradient(90deg, rgb(119,234,253), rgb(119,203,253))';
      } else {
        musicBtn.style.background = 'linear-gradient(90deg, rgb(84, 84, 84), rgb(84, 84, 84))';
      }
      isOriginalColor = !isOriginalColor;
    }

    musicBtn.addEventListener('click', toggleMusic);

    // Scroll to top functionality
    const scrollButton = document.querySelector(".scroll-top");

    window.addEventListener("scroll", () => {
      window.pageYOffset > 100
        ? scrollButton.classList.add("show-btn")
        : scrollButton.classList.remove("show-btn");
    });

    function scrollToTop() {
      const scrollY = window.pageYOffset;
      const scrollStep = Math.max(10, Math.floor(scrollY / 20));
      if (scrollY > 0) {
        window.scrollBy(0, -scrollStep);
        requestAnimationFrame(scrollToTop);
      }
    }

    // Chatbot configuration
    window.embeddedChatbotConfig = {
      chatbotId: "iHUFXP4dziHwbqdmgIfl3",
      domain: "www.chatbase.co"
    }
  </script>
  <script src="https://www.chatbase.co/embed.min.js" chatbotId="iHUFXP4dziHwbqdmgIfl3" domain="www.chatbase.co" defer></script>
</body>

</html>